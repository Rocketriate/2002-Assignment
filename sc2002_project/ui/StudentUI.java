package sc2002_project.ui;

import sc2002_project.entities.Application;
import sc2002_project.entities.FilterOptions;
import sc2002_project.entities.InternshipOpportunity;
import sc2002_project.entities.Student;
import sc2002_project.controllers.ApplicationController;
import sc2002_project.controllers.InternshipController;

import java.util.Scanner;
public class StudentUI {
    private String activeId;
    private FilterOptions currentFilter;
    private final InternshipController internshipController;
    private final ApplicationController applicationController;
    private final Scanner sc = new Scanner(System.in);

    public StudentUI(InternshipController internshipController, ApplicationController applicationController) {
        this.activeId = null;
        this.internshipController = internshipController;
        this.applicationController = applicationController;
    }

    public void runMenu(Student user, LoginUI loginUI) {
        System.out.println("Welcome, " + user.getName());
        activeId = user.getUserID();
        currentFilter = new FilterOptions(user);

        boolean operation = true;
        while (operation) {
            System.out.println("What would you like to do today?");
            System.out.println("1. View filtered internship opportunities");
            System.out.println("2. Update viewing filters");
            System.out.println("3. View ongoing applications");
            System.out.println("4. Accept internship offer");
            System.out.println("5. Apply for internship opportunity");
            System.out.println("6. Request withdrawal of application");
            System.out.println("7. Change account password");
            System.out.println("8. Logout");
            System.out.println("Choose an option:");
            String choice = sc.nextLine().trim();
            switch (choice) {
                case "1":
                    internshipController.filterView(activeId, currentFilter);
                    break;
                case "2":
                    currentFilter.updateFilters();
                    break;
                case "3":
                    applicationController.appView(activeId);
                    break;
                case "4":
                    applicationController.accept(activeId);
                    break;
                case "5":
                    applicationController.createApp(activeId);
                    break;
                case "6":
                    applicationController.requestWithdraw(activeId);
                    break;
                case "7":
                    loginUI.changePassword();
                case "8":
                    operation = false;
                    break;
                default:
                    System.out.println("Error: Invalid choice. Please choose an option from 1-7");
                    break;
            }
        }
        activeId = null;
        currentFilter = null;
        System.out.println("Thank you for using the internship placement system");
        loginUI.logout();
        loginUI.start();
    }
}








































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































